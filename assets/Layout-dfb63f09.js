import{u as H,r as h,b as $,a as L,i as z,c as D,R as j,A as k,d as C,j as t,S as v,_ as S,e as W,C as w,L as y,f as _,I as G,g as Q,h as U,O as J}from"./index-b9857d62.js";import{u as K}from"./chunk-BBVTFCMB-fd463af7.js";import{u as T,e as X}from"./utils-c0b7d60e.js";import{M as Y,a as Z,b as q,c as ee,d as te,e as ne,u as re}from"./chunk-4FCEGNGT-78e016fa.js";import{F as E,I as O,a as P}from"./chunk-6CVSDS6C-1069c691.js";import{F as I}from"./chunk-GCOAS5YC-4b81530d.js";import{B as A}from"./chunk-UVUR7MCU-fdc8386a.js";import{I as ae}from"./chunk-QINAG4RG-e43e77dc.js";import{B}from"./chunk-PULVB27S-5f5743b7.js";import{B as oe}from"./chunk-Z6RXEUPO-c7d71795.js";function se(e,r={}){const{ssr:a=!0,fallback:n}=r,{getWindow:o}=H(),s=Array.isArray(e)?e:[e];let l=Array.isArray(n)?n:[n];l=l.filter(i=>i!=null);const[u,d]=h.useState(()=>s.map((i,f)=>({media:i,matches:a?!!l[f]:o().matchMedia(i).matches})));return h.useEffect(()=>{const i=o();d(s.map(c=>({media:c,matches:i.matchMedia(c).matches})));const f=s.map(c=>i.matchMedia(c)),x=c=>{d(b=>b.slice().map(p=>p.media===c.media?{...p,matches:c.matches}:p))};return f.forEach(c=>{typeof c.addListener=="function"?c.addListener(x):c.addEventListener("change",x)}),()=>{f.forEach(c=>{typeof c.removeListener=="function"?c.removeListener(x):c.removeEventListener("change",x)})}},[o]),u.map(i=>i.matches)}function ie(e,r,a=$){let n=Object.keys(e).indexOf(r);if(n!==-1)return e[r];let o=a.indexOf(r);for(;o>=0;){const s=a[o];if(e.hasOwnProperty(s)){n=o;break}o-=1}if(n!==-1){const s=a[n];return e[s]}}function ce(e){var r,a;const n=z(e)?e:{fallback:e??"base"},s=L().__breakpoints.details.map(({minMaxQuery:i,breakpoint:f})=>({breakpoint:f,query:i.replace("@media screen and ","")})),l=s.map(i=>i.breakpoint===n.fallback),d=se(s.map(i=>i.query),{fallback:l,ssr:n.ssr}).findIndex(i=>i==!0);return(a=(r=s[d])==null?void 0:r.breakpoint)!=null?a:n.fallback}function le(e,r){var a;const n=z(r)?r:{fallback:r??"base"},o=ce(n),s=L();if(!o)return;const l=Array.from(((a=s.__breakpoints)==null?void 0:a.keys)||[]),u=Array.isArray(e)?Object.fromEntries(Object.entries(D(e,l)).map(([d,i])=>[d,i])):e;return ie(u,o,l)}var F={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},M=j.createContext&&j.createContext(F),g=globalThis&&globalThis.__assign||function(){return g=Object.assign||function(e){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},g.apply(this,arguments)},ue=globalThis&&globalThis.__rest||function(e,r){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)r.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(a[n[o]]=e[n[o]]);return a};function N(e){return e&&e.map(function(r,a){return j.createElement(r.tag,g({key:a},r.attr),N(r.child))})}function R(e){return function(r){return j.createElement(de,g({attr:g({},e.attr)},r),N(e.child))}}function de(e){var r=function(a){var n=e.attr,o=e.size,s=e.title,l=ue(e,["attr","size","title"]),u=o||a.size||"1em",d;return a.className&&(d=a.className),e.className&&(d=(d?d+" ":"")+e.className),j.createElement("svg",g({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,n,l,{className:d,style:g(g({color:e.color||a.color},a.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&j.createElement("title",null,s),e.children)};return M!==void 0?j.createElement(M.Consumer,null,function(a){return r(a)}):r(F)}function he(e){return R({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"}}]})(e)}function pe(e){return R({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(e)}function me({isOpen:e,onClose:r}){const a=h.useContext(k),[n,o]=h.useState(""),[s,l]=h.useState(null),[u,d]=h.useState(),[i,f]=K(!1),x=T();return h.useEffect(()=>{const c=setTimeout(async()=>{var b,p;if(n.trim()===""){l(null);return}try{f.on();const{data:m}=await C.get(`https://api.silentclient.net/promos/get?promo=${n}`);if(m.promo.max_activated&&m.promo.activated>=m.promo.max_activated){x({title:"Error!",description:"Promo has already been activated!",status:"error",duration:3e3,isClosable:!0}),l(null);return}l(m.promo)}catch(m){if(m!=null&&m.response&&((b=m.response)!=null&&b.data)&&((p=m.response.data)!=null&&p.errors))for(const V of m.response.data.errors)x({title:"Error!",description:V.message,status:"error",duration:3e3,isClosable:!0});l(null)}finally{f.off()}},500);return()=>clearTimeout(c)},[n]),t.jsxs(Y,{isOpen:e,onClose:r,children:[t.jsx(Z,{}),t.jsxs(q,{pt:0,bgColor:"#131313",children:[t.jsx(ee,{children:"Balance replenishment"}),t.jsx(te,{}),t.jsx(ne,{mb:2,children:t.jsxs(v,{direction:"column",spacing:2,children:[t.jsxs(E,{children:[t.jsx(I,{children:"Amount"}),t.jsx(O,{value:u,onChange:c=>d(Number(c.currentTarget.value)),type:"number",placeholder:"Amount"}),t.jsx(P,{children:"Minimum amount 0.50$"})]}),t.jsxs(E,{children:[t.jsx(I,{children:"Promo Code"}),t.jsx(O,{value:n,onChange:c=>o(c.currentTarget.value),placeholder:"Promo Code"}),s&&t.jsxs(P,{color:"green",children:["+",s.multiplier,"%"]})]}),t.jsx(A,{onClick:async()=>{var c,b;try{f.on();const{data:p}=await C.post("https://api.silentclient.net/balance/add",{amount:(u||0)*100,promo:(s==null?void 0:s.promo)||null,currency:"usd"},{headers:{Authorization:`Bearer ${a.props.accessToken}`}});window.location.href=p.payUrl}catch(p){if(p!=null&&p.response&&((c=p.response)!=null&&c.data)&&((b=p.response.data)!=null&&b.errors))for(const m of p.response.data.errors)x({title:"Error!",description:m.message,status:"error",duration:3e3,isClosable:!0})}finally{f.off()}},isDisabled:i,children:"Pay"})]})})]})]})}const fe=h.lazy(()=>S(()=>import("./AccountMenu-ee6fff2c.js"),["assets/AccountMenu-ee6fff2c.js","assets/index-b9857d62.js","assets/index-a1d4600f.css","assets/index-ced25b69.js","assets/chunk-UVUR7MCU-fdc8386a.js","assets/chunk-4FCEGNGT-78e016fa.js","assets/chunk-QINAG4RG-e43e77dc.js"])),xe=h.lazy(()=>S(()=>import("./MobileMenu-fe289b7d.js"),["assets/MobileMenu-fe289b7d.js","assets/index-b9857d62.js","assets/index-a1d4600f.css","assets/chunk-UVUR7MCU-fdc8386a.js","assets/chunk-4FCEGNGT-78e016fa.js","assets/chunk-QINAG4RG-e43e77dc.js","assets/chunk-BBVTFCMB-fd463af7.js","assets/utils-c0b7d60e.js","assets/chunk-6CVSDS6C-1069c691.js","assets/chunk-GCOAS5YC-4b81530d.js","assets/chunk-PULVB27S-5f5743b7.js","assets/chunk-Z6RXEUPO-c7d71795.js"])),ge=[{name:"Marketplace",href:"/"},{name:"Cases",href:"/cases"},{name:"Premium",href:"/premium"},{name:"About",href:"/about"}];function be(){const e=W(),r=h.useContext(k),{isOpen:a,onOpen:n,onClose:o}=re(),[s,l]=h.useState(0),u=le({base:!0,md:!1});return h.useEffect(()=>{(async()=>{if(r.props.account)try{const{data:i}=await C.get("https://api.silentclient.net/marketplace/unreaded_deals",{headers:{Authorization:`Bearer ${r.props.accessToken}`}});l(i.count)}catch{}})()},[e.pathname]),t.jsxs(v,{bgColor:"black",h:"80px",w:"full",position:"fixed",paddingInlineStart:"20px",paddingInlineEnd:"20px",alignItems:"center",textAlign:"center",alignContent:"center",direction:"row",justifyContent:"space-between",as:"header",zIndex:5,children:[t.jsx(w,{w:"full",h:"full",justifyContent:"start",children:t.jsx(y,{w:"auto",userSelect:"none",as:_,to:"/",children:t.jsx(ae,{h:"39px",w:"auto",src:"https://assets.silentclient.net/logos/logo.svg",alt:"Silent Client"})})}),!u&&t.jsx(w,{justifyContent:"center",w:"full",h:"full",children:t.jsx(v,{direction:"row",spacing:4,children:ge.map(d=>t.jsx(y,{fontSize:"lg",color:"white",fontWeight:"bold",opacity:e.pathname===d.href?"1":"0.5",_hover:{opacity:e.pathname===d.href?"1":"0.9",textDecoration:"none"},as:_,to:d.href,children:d.name}))})}),t.jsx(w,{w:"full",h:"full",justifyContent:"end",children:t.jsxs(v,{alignItems:"center",direction:"row",spacing:2,children:[r.props.account&&t.jsxs(t.Fragment,{children:[!u&&t.jsx(B,{children:t.jsxs(y,{bgColor:"rgba(255, 255, 255, 0.1)",borderRadius:"5px",p:"5px 10px",border:"1px solid transparent",_hover:{borderColor:"white"},onClick:n,children:[t.jsx(G,{children:t.jsx(pe,{})}),((r.props.account.partner_balance||0)/100).toFixed(2),"$"," "]})}),t.jsxs(y,{as:_,to:"/deals",children:[s!==0&&t.jsx(oe,{bgColor:"red",color:"white",borderRadius:"999px",top:"24px",zIndex:4,position:"absolute",children:s}),t.jsx(he,{size:24})]}),!u&&t.jsx(h.Suspense,{fallback:t.jsx(t.Fragment,{}),children:t.jsx(fe,{isMobile:!1})})]})||t.jsx(t.Fragment,{children:!u&&t.jsx(A,{variant:"outline",minWidth:["60px","70px"],borderColor:"white",onClick:()=>{window.location.href=`https://auth.silentclient.net/login?redirect_url=${window.location.href}`},children:"Login"})}),u&&t.jsx(h.Suspense,{fallback:t.jsx(t.Fragment,{}),children:t.jsx(xe,{})})]})}),t.jsx(me,{isOpen:a,onClose:o})]})}function je({children:e}){const[r,a]=Q(),n=h.useContext(k),o=T();return h.useEffect(()=>{(async()=>{if(r.get("access_token")&&n.setProps){const l=r.get("access_token");if(a({}),l!=="null")try{const{data:u}=await C.get("https://api.silentclient.net/account",{headers:{Authorization:`Bearer ${l}`}});n.setProps({account:u.account,accessToken:l,isLoading:!1})}catch(u){X(u,o),n.setProps({account:null,accessToken:null,isLoading:!1})}else n.setProps({account:null,accessToken:null,isLoading:!1})}else window.location.href=`https://auth.silentclient.net/login?redirect_url=${window.location.href}&force_redirect=1`})()},[]),n.props.isLoading?t.jsx(w,{minH:"100vh",children:t.jsx(U,{size:"xl",color:"white"})}):e}function ye(){return h.useEffect(()=>{window.scrollTo(0,0)},[location.pathname]),t.jsx(t.Fragment,{children:t.jsxs(je,{children:[t.jsx(be,{}),t.jsx(B,{paddingInlineStart:[4,"20px"],paddingInlineEnd:[4,"20px"],pt:"85px",children:t.jsx(J,{})})]})})}const Le=Object.freeze(Object.defineProperty({__proto__:null,default:ye},Symbol.toStringTag,{value:"Module"}));export{Le as L,ge as M};
