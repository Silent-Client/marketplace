import{i as p,j as k,r as f,J as x,h as j}from"./index-0582725d.js";var v=p(function(a,e){const{htmlWidth:r,htmlHeight:o,alt:i,...l}=a;return k.jsx("img",{width:r,height:o,ref:e,alt:i,...l})});v.displayName="NativeImage";function N(s){const{loading:a,src:e,srcSet:r,onLoad:o,onError:i,crossOrigin:l,sizes:d,ignoreFallback:g}=s,[c,m]=f.useState("pending");f.useEffect(()=>{m(e?"loading":"pending")},[e]);const t=f.useRef(),b=f.useCallback(()=>{if(!e)return;u();const n=new Image;n.src=e,l&&(n.crossOrigin=l),r&&(n.srcset=r),d&&(n.sizes=d),a&&(n.loading=a),n.onload=h=>{u(),m("loaded"),o==null||o(h)},n.onerror=h=>{u(),m("failed"),i==null||i(h)},t.current=n},[e,l,r,d,o,i,a]),u=()=>{t.current&&(t.current.onload=null,t.current.onerror=null,t.current=null)};return x(()=>{if(!g)return c==="loading"&&b(),()=>{u()}},[c,b,g]),g?"loaded":c}var O=(s,a)=>s!=="loaded"&&a==="beforeLoadOrError"||s==="failed"&&a==="onError";function w(s,a=[]){const e=Object.assign({},s);for(const r of a)r in e&&delete e[r];return e}var y=p(function(a,e){const{fallbackSrc:r,fallback:o,src:i,srcSet:l,align:d,fit:g,loading:c,ignoreFallback:m,crossOrigin:t,fallbackStrategy:b="beforeLoadOrError",referrerPolicy:u,...n}=a,h=r!==void 0||o!==void 0,I=c!=null||m||!h,F=N({...a,crossOrigin:t,ignoreFallback:I}),S=O(F,b),E={ref:e,objectFit:g,objectPosition:d,...I?n:w(n,["onError","onLoad"])};return S?o||k.jsx(j.img,{as:v,className:"chakra-image__placeholder",src:r,...E}):k.jsx(j.img,{as:v,src:i,srcSet:l,crossOrigin:t,loading:c,referrerPolicy:u,className:"chakra-image",...E})});y.displayName="Image";function R(s=!1){const[a,e]=f.useState(s),r=f.useMemo(()=>({on:()=>e(!0),off:()=>e(!1),toggle:()=>e(o=>!o)}),[]);return[a,r]}export{y as I,R as u};
